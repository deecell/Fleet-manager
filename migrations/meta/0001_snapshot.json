{
  "id": "19b352db-79ae-4446-ae2b-eae83b1ed547",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "truck_id": {
          "name": "truck_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fleet_id": {
          "name": "fleet_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "alert_type": {
          "name": "alert_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'warning'"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "threshold": {
          "name": "threshold",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "actual_value": {
          "name": "actual_value",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "alert_org_idx": {
          "name": "alert_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_org_status_idx": {
          "name": "alert_org_status_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_device_idx": {
          "name": "alert_device_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_type_idx": {
          "name": "alert_type_idx",
          "columns": [
            {
              "expression": "alert_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_created_at_idx": {
          "name": "alert_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alerts_organization_id_organizations_id_fk": {
          "name": "alerts_organization_id_organizations_id_fk",
          "tableFrom": "alerts",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alerts_device_id_power_mon_devices_id_fk": {
          "name": "alerts_device_id_power_mon_devices_id_fk",
          "tableFrom": "alerts",
          "tableTo": "power_mon_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "alerts_truck_id_trucks_id_fk": {
          "name": "alerts_truck_id_trucks_id_fk",
          "tableFrom": "alerts",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "alerts_fleet_id_fleets_id_fk": {
          "name": "alerts_fleet_id_fleets_id_fk",
          "tableFrom": "alerts",
          "tableTo": "fleets",
          "columnsFrom": [
            "fleet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "alerts_acknowledged_by_users_id_fk": {
          "name": "alerts_acknowledged_by_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_org_idx": {
          "name": "audit_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_created_at_idx": {
          "name": "audit_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_organization_id_organizations_id_fk": {
          "name": "audit_logs_organization_id_organizations_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_migrations": {
      "name": "data_migrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "applied_by": {
          "name": "applied_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'system'"
        }
      },
      "indexes": {
        "data_migration_name_idx": {
          "name": "data_migration_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "data_migrations_name_unique": {
          "name": "data_migrations_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_credentials": {
      "name": "device_credentials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "connection_key": {
          "name": "connection_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_key": {
          "name": "access_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "applink_url": {
          "name": "applink_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "credential_org_idx": {
          "name": "credential_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "credential_device_idx": {
          "name": "credential_device_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_credentials_organization_id_organizations_id_fk": {
          "name": "device_credentials_organization_id_organizations_id_fk",
          "tableFrom": "device_credentials",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_credentials_device_id_power_mon_devices_id_fk": {
          "name": "device_credentials_device_id_power_mon_devices_id_fk",
          "tableFrom": "device_credentials",
          "tableTo": "power_mon_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_measurements": {
      "name": "device_measurements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "truck_id": {
          "name": "truck_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "voltage1": {
          "name": "voltage1",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "voltage2": {
          "name": "voltage2",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "current": {
          "name": "current",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "power": {
          "name": "power",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "soc": {
          "name": "soc",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "energy": {
          "name": "energy",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "charge": {
          "name": "charge",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rssi": {
          "name": "rssi",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "power_status": {
          "name": "power_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "power_status_string": {
          "name": "power_status_string",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'poll'"
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "measurement_org_device_time_idx": {
          "name": "measurement_org_device_time_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "measurement_recorded_at_idx": {
          "name": "measurement_recorded_at_idx",
          "columns": [
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "measurement_device_time_idx": {
          "name": "measurement_device_time_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_measurements_organization_id_organizations_id_fk": {
          "name": "device_measurements_organization_id_organizations_id_fk",
          "tableFrom": "device_measurements",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_measurements_device_id_power_mon_devices_id_fk": {
          "name": "device_measurements_device_id_power_mon_devices_id_fk",
          "tableFrom": "device_measurements",
          "tableTo": "power_mon_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_measurements_truck_id_trucks_id_fk": {
          "name": "device_measurements_truck_id_trucks_id_fk",
          "tableFrom": "device_measurements",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_snapshots": {
      "name": "device_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "truck_id": {
          "name": "truck_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fleet_id": {
          "name": "fleet_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "voltage1": {
          "name": "voltage1",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "voltage2": {
          "name": "voltage2",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "current": {
          "name": "current",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "power": {
          "name": "power",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "temperature": {
          "name": "temperature",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "soc": {
          "name": "soc",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "energy": {
          "name": "energy",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "charge": {
          "name": "charge",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rssi": {
          "name": "rssi",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "power_status": {
          "name": "power_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "power_status_string": {
          "name": "power_status_string",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_parked": {
          "name": "is_parked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "parked_since": {
          "name": "parked_since",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "driving_since": {
          "name": "driving_since",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "today_parked_minutes": {
          "name": "today_parked_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "parked_date": {
          "name": "parked_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "month_parked_minutes": {
          "name": "month_parked_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "parked_month": {
          "name": "parked_month",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "snapshot_device_idx": {
          "name": "snapshot_device_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "snapshot_org_idx": {
          "name": "snapshot_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "snapshot_org_fleet_idx": {
          "name": "snapshot_org_fleet_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fleet_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_snapshots_organization_id_organizations_id_fk": {
          "name": "device_snapshots_organization_id_organizations_id_fk",
          "tableFrom": "device_snapshots",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_snapshots_device_id_power_mon_devices_id_fk": {
          "name": "device_snapshots_device_id_power_mon_devices_id_fk",
          "tableFrom": "device_snapshots",
          "tableTo": "power_mon_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_snapshots_truck_id_trucks_id_fk": {
          "name": "device_snapshots_truck_id_trucks_id_fk",
          "tableFrom": "device_snapshots",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "device_snapshots_fleet_id_fleets_id_fk": {
          "name": "device_snapshots_fleet_id_fleets_id_fk",
          "tableFrom": "device_snapshots",
          "tableTo": "fleets",
          "columnsFrom": [
            "fleet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_statistics": {
      "name": "device_statistics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "truck_id": {
          "name": "truck_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_charge": {
          "name": "total_charge",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "total_charge_energy": {
          "name": "total_charge_energy",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "total_discharge": {
          "name": "total_discharge",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "total_discharge_energy": {
          "name": "total_discharge_energy",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "min_voltage": {
          "name": "min_voltage",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "max_voltage": {
          "name": "max_voltage",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "max_charge_current": {
          "name": "max_charge_current",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "max_discharge_current": {
          "name": "max_discharge_current",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "time_since_last_full_charge": {
          "name": "time_since_last_full_charge",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "full_charge_capacity": {
          "name": "full_charge_capacity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "deepest_discharge": {
          "name": "deepest_discharge",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_discharge": {
          "name": "last_discharge",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "soc": {
          "name": "soc",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "seconds_since_on": {
          "name": "seconds_since_on",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "voltage1_min": {
          "name": "voltage1_min",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "voltage1_max": {
          "name": "voltage1_max",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "voltage2_min": {
          "name": "voltage2_min",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "voltage2_max": {
          "name": "voltage2_max",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "peak_charge_current": {
          "name": "peak_charge_current",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "peak_discharge_current": {
          "name": "peak_discharge_current",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_min": {
          "name": "temperature_min",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "temperature_max": {
          "name": "temperature_max",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "statistics_device_idx": {
          "name": "statistics_device_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "statistics_org_idx": {
          "name": "statistics_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_statistics_organization_id_organizations_id_fk": {
          "name": "device_statistics_organization_id_organizations_id_fk",
          "tableFrom": "device_statistics",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_statistics_device_id_power_mon_devices_id_fk": {
          "name": "device_statistics_device_id_power_mon_devices_id_fk",
          "tableFrom": "device_statistics",
          "tableTo": "power_mon_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_statistics_truck_id_trucks_id_fk": {
          "name": "device_statistics_truck_id_trucks_id_fk",
          "tableFrom": "device_statistics",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_sync_status": {
      "name": "device_sync_status",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "connection_status": {
          "name": "connection_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'disconnected'"
        },
        "cohort_id": {
          "name": "cohort_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_connected_at": {
          "name": "last_connected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_disconnected_at": {
          "name": "last_disconnected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_poll_at": {
          "name": "last_poll_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_successful_poll_at": {
          "name": "last_successful_poll_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consecutive_poll_failures": {
          "name": "consecutive_poll_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_log_file_id": {
          "name": "last_log_file_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_log_offset": {
          "name": "last_log_offset",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_log_sync_at": {
          "name": "last_log_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_samples_synced": {
          "name": "total_samples_synced",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "backfill_status": {
          "name": "backfill_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'idle'"
        },
        "gap_start_at": {
          "name": "gap_start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "gap_end_at": {
          "name": "gap_end_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sync_status": {
          "name": "sync_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'idle'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consecutive_failures": {
          "name": "consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "sync_status_org_idx": {
          "name": "sync_status_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sync_status_device_idx": {
          "name": "sync_status_device_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sync_status_connection_idx": {
          "name": "sync_status_connection_idx",
          "columns": [
            {
              "expression": "connection_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sync_status_cohort_idx": {
          "name": "sync_status_cohort_idx",
          "columns": [
            {
              "expression": "cohort_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_sync_status_organization_id_organizations_id_fk": {
          "name": "device_sync_status_organization_id_organizations_id_fk",
          "tableFrom": "device_sync_status",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "device_sync_status_device_id_power_mon_devices_id_fk": {
          "name": "device_sync_status_device_id_power_mon_devices_id_fk",
          "tableFrom": "device_sync_status",
          "tableTo": "power_mon_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fleets": {
      "name": "fleets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'America/Los_Angeles'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "fleet_org_idx": {
          "name": "fleet_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fleet_org_name_idx": {
          "name": "fleet_org_name_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fleets_organization_id_organizations_id_fk": {
          "name": "fleets_organization_id_organizations_id_fk",
          "tableFrom": "fleets",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.fuel_prices": {
      "name": "fuel_prices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "price_date": {
          "name": "price_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "price_per_gallon": {
          "name": "price_per_gallon",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'US'"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'EIA'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "fuel_price_date_region_idx": {
          "name": "fuel_price_date_region_idx",
          "columns": [
            {
              "expression": "price_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "region",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fuel_price_date_idx": {
          "name": "fuel_price_date_idx",
          "columns": [
            {
              "expression": "price_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "settings": {
          "name": "settings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "org_slug_idx": {
          "name": "org_slug_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organizations_slug_unique": {
          "name": "organizations_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.password_reset_tokens": {
      "name": "password_reset_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "password_reset_token_idx": {
          "name": "password_reset_token_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "password_reset_user_idx": {
          "name": "password_reset_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "password_reset_expires_idx": {
          "name": "password_reset_expires_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "password_reset_tokens_user_id_users_id_fk": {
          "name": "password_reset_tokens_user_id_users_id_fk",
          "tableFrom": "password_reset_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "password_reset_tokens_token_unique": {
          "name": "password_reset_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.polling_settings": {
      "name": "polling_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "polling_interval_seconds": {
          "name": "polling_interval_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 60
        },
        "log_sync_interval_minutes": {
          "name": "log_sync_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 15
        },
        "offline_threshold_minutes": {
          "name": "offline_threshold_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "low_voltage_threshold": {
          "name": "low_voltage_threshold",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 11.5
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "polling_settings_org_idx": {
          "name": "polling_settings_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "polling_settings_organization_id_organizations_id_fk": {
          "name": "polling_settings_organization_id_organizations_id_fk",
          "tableFrom": "polling_settings",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.power_mon_devices": {
      "name": "power_mon_devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "truck_id": {
          "name": "truck_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "serial_number": {
          "name": "serial_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_name": {
          "name": "device_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hardware_revision": {
          "name": "hardware_revision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "firmware_version": {
          "name": "firmware_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "host_id": {
          "name": "host_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "battery_voltage": {
          "name": "battery_voltage",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "battery_ah": {
          "name": "battery_ah",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_batteries": {
          "name": "number_of_batteries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'offline'"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "unassigned_at": {
          "name": "unassigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "device_org_idx": {
          "name": "device_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_truck_idx": {
          "name": "device_truck_idx",
          "columns": [
            {
              "expression": "truck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_serial_idx": {
          "name": "device_serial_idx",
          "columns": [
            {
              "expression": "serial_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_status_idx": {
          "name": "device_status_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "power_mon_devices_organization_id_organizations_id_fk": {
          "name": "power_mon_devices_organization_id_organizations_id_fk",
          "tableFrom": "power_mon_devices",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "power_mon_devices_truck_id_trucks_id_fk": {
          "name": "power_mon_devices_truck_id_trucks_id_fk",
          "tableFrom": "power_mon_devices",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "power_mon_devices_serial_number_unique": {
          "name": "power_mon_devices_serial_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "serial_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.savings_config": {
      "name": "savings_config",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "diesel_kwh_per_gallon": {
          "name": "diesel_kwh_per_gallon",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 9
        },
        "default_fuel_price_per_gallon": {
          "name": "default_fuel_price_per_gallon",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 3.5
        },
        "use_live_fuel_prices": {
          "name": "use_live_fuel_prices",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "savings_config_org_idx": {
          "name": "savings_config_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "savings_config_organization_id_organizations_id_fk": {
          "name": "savings_config_organization_id_organizations_id_fk",
          "tableFrom": "savings_config",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "session_expire_idx": {
          "name": "session_expire_idx",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sim_location_history": {
      "name": "sim_location_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sim_id": {
          "name": "sim_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "truck_id": {
          "name": "truck_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "longitude": {
          "name": "longitude",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "accuracy": {
          "name": "accuracy",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'cell_tower'"
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "sim_location_org_idx": {
          "name": "sim_location_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_location_sim_idx": {
          "name": "sim_location_sim_idx",
          "columns": [
            {
              "expression": "sim_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_location_time_idx": {
          "name": "sim_location_time_idx",
          "columns": [
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_location_sim_time_idx": {
          "name": "sim_location_sim_time_idx",
          "columns": [
            {
              "expression": "sim_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sim_location_history_organization_id_organizations_id_fk": {
          "name": "sim_location_history_organization_id_organizations_id_fk",
          "tableFrom": "sim_location_history",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sim_location_history_sim_id_sims_id_fk": {
          "name": "sim_location_history_sim_id_sims_id_fk",
          "tableFrom": "sim_location_history",
          "tableTo": "sims",
          "columnsFrom": [
            "sim_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sim_location_history_truck_id_trucks_id_fk": {
          "name": "sim_location_history_truck_id_trucks_id_fk",
          "tableFrom": "sim_location_history",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sim_sync_settings": {
      "name": "sim_sync_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "location_sync_interval_minutes": {
          "name": "location_sync_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "usage_sync_interval_minutes": {
          "name": "usage_sync_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 60
        },
        "data_usage_alert_threshold_percent": {
          "name": "data_usage_alert_threshold_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 80
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_sim_sync_at": {
          "name": "last_sim_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_location_sync_at": {
          "name": "last_location_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_usage_sync_at": {
          "name": "last_usage_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "sim_sync_settings_org_idx": {
          "name": "sim_sync_settings_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sim_sync_settings_organization_id_organizations_id_fk": {
          "name": "sim_sync_settings_organization_id_organizations_id_fk",
          "tableFrom": "sim_sync_settings",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sim_usage_history": {
      "name": "sim_usage_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sim_id": {
          "name": "sim_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "data_used_mb": {
          "name": "data_used_mb",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "sms_count": {
          "name": "sms_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "period": {
          "name": "period",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "sim_usage_org_idx": {
          "name": "sim_usage_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_usage_sim_idx": {
          "name": "sim_usage_sim_idx",
          "columns": [
            {
              "expression": "sim_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_usage_time_idx": {
          "name": "sim_usage_time_idx",
          "columns": [
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sim_usage_history_organization_id_organizations_id_fk": {
          "name": "sim_usage_history_organization_id_organizations_id_fk",
          "tableFrom": "sim_usage_history",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sim_usage_history_sim_id_sims_id_fk": {
          "name": "sim_usage_history_sim_id_sims_id_fk",
          "tableFrom": "sim_usage_history",
          "tableTo": "sims",
          "columnsFrom": [
            "sim_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sims": {
      "name": "sims",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "truck_id": {
          "name": "truck_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "simpro_id": {
          "name": "simpro_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "iccid": {
          "name": "iccid",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "msisdn": {
          "name": "msisdn",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imsi": {
          "name": "imsi",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "eid": {
          "name": "eid",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_name": {
          "name": "device_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'unknown'"
        },
        "workflow_status": {
          "name": "workflow_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latitude": {
          "name": "latitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "location_accuracy": {
          "name": "location_accuracy",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_location_update": {
          "name": "last_location_update",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "data_used_mb": {
          "name": "data_used_mb",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "data_limit_mb": {
          "name": "data_limit_mb",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_usage_update": {
          "name": "last_usage_update",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "sim_org_idx": {
          "name": "sim_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_device_idx": {
          "name": "sim_device_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_truck_idx": {
          "name": "sim_truck_idx",
          "columns": [
            {
              "expression": "truck_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_iccid_idx": {
          "name": "sim_iccid_idx",
          "columns": [
            {
              "expression": "iccid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_msisdn_idx": {
          "name": "sim_msisdn_idx",
          "columns": [
            {
              "expression": "msisdn",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sim_device_name_idx": {
          "name": "sim_device_name_idx",
          "columns": [
            {
              "expression": "device_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sims_organization_id_organizations_id_fk": {
          "name": "sims_organization_id_organizations_id_fk",
          "tableFrom": "sims",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sims_device_id_power_mon_devices_id_fk": {
          "name": "sims_device_id_power_mon_devices_id_fk",
          "tableFrom": "sims",
          "tableTo": "power_mon_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "sims_truck_id_trucks_id_fk": {
          "name": "sims_truck_id_trucks_id_fk",
          "tableFrom": "sims",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sims_iccid_unique": {
          "name": "sims_iccid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "iccid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trucks": {
      "name": "trucks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "fleet_id": {
          "name": "fleet_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "truck_number": {
          "name": "truck_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "driver_name": {
          "name": "driver_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "make": {
          "name": "make",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vin_number": {
          "name": "vin_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_plate": {
          "name": "license_plate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'in-service'"
        },
        "latitude": {
          "name": "latitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_location_update": {
          "name": "last_location_update",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "truck_org_idx": {
          "name": "truck_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "truck_fleet_idx": {
          "name": "truck_fleet_idx",
          "columns": [
            {
              "expression": "fleet_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "truck_org_fleet_status_idx": {
          "name": "truck_org_fleet_status_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fleet_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "truck_number_idx": {
          "name": "truck_number_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "truck_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trucks_organization_id_organizations_id_fk": {
          "name": "trucks_organization_id_organizations_id_fk",
          "tableFrom": "trucks",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trucks_fleet_id_fleets_id_fk": {
          "name": "trucks_fleet_id_fleets_id_fk",
          "tableFrom": "trucks",
          "tableTo": "fleets",
          "columnsFrom": [
            "fleet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_picture_url": {
          "name": "profile_picture_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'user'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_email_org_idx": {
          "name": "user_email_org_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_org_idx": {
          "name": "user_org_idx",
          "columns": [
            {
              "expression": "organization_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_organization_id_organizations_id_fk": {
          "name": "users_organization_id_organizations_id_fk",
          "tableFrom": "users",
          "tableTo": "organizations",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}